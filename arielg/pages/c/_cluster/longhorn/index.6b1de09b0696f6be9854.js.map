{"version":3,"sources":["webpack:///./pages/c/_cluster/longhorn/index.vue","webpack:///./utils/install-redirect.js","webpack:///./components/LazyImage.vue?74ae","webpack:///components/LazyImage.vue","webpack:///./assets/images/generic-catalog.svg","webpack:///./components/LazyImage.vue","webpack:///./components/LazyImage.vue?c8f2","webpack:///./pages/c/_cluster/longhorn/index.vue?7db7","webpack:///pages/c/_cluster/longhorn/index.vue","webpack:///./pages/c/_cluster/longhorn/index.vue?4922"],"names":["component","product","chartName","defaultResource","redirect","store","getters","name","params","resource","dispatch","chart","query","REPO_TYPE","repoType","REPO","repoName","CHART","VERSION","versions","version","props","initialSrc","type","default","errorSrc","src","mounted","$img","attr","this","boundError","onError","bind","on","beforeDestroy","off","methods","module","exports","render","_h","$createElement","_self","_c","_b","ref","attrs","$attrs","staticRenderFns","components","middleware","data","externalLinks","longhornImgSrc","computed","_vm","staticClass","_v","_l","fel","key","label","link","iconSrc","description"],"mappings":"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","file":"pages/c/_cluster/longhorn/index.6b1de09b0696f6be9854.js","sourcesContent":["import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=dbab9192&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { REPO_TYPE, REPO, CHART, VERSION } from '@/config/query-params';\n\nexport default function(product, chartName, defaultResource) {\n  return async function middleware({ redirect, store } ) {\n    if ( store.getters['type-map/isProductActive'](product) ) {\n      // If the product is installed and there's a default resource, redirect there\n      if ( defaultResource ) {\n        return redirect({\n          name:   'c-cluster-product-resource',\n          params: {\n            product,\n            resource: defaultResource\n          },\n        });\n      }\n\n      // Otherwise just let the middleware pass through\n    } else {\n      // The product is not installed, redirect to the install chart\n\n      await store.dispatch('catalog/load');\n\n      const chart = store.getters['catalog/chart']({ chartName });\n\n      if ( chart ) {\n        return redirect({\n          name:   'c-cluster-apps-install',\n          query:  {\n            [REPO_TYPE]: chart.repoType,\n            [REPO]:      chart.repoName,\n            [CHART]:     chart.chartName,\n            [VERSION]:   chart.versions[0].version\n          },\n        });\n      } else {\n        // The chart's not available\n        store.dispatch('loadingError', `Chart not found for ${ product }`);\n      }\n    }\n  };\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--5-0!../node_modules/thread-loader/dist/cjs.js??ref--5-1!../node_modules/babel-loader/lib/index.js??ref--5-2!../node_modules/vue-loader/lib/index.js??vue-loader-options!./LazyImage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--5-0!../node_modules/thread-loader/dist/cjs.js??ref--5-1!../node_modules/babel-loader/lib/index.js??ref--5-2!../node_modules/vue-loader/lib/index.js??vue-loader-options!./LazyImage.vue?vue&type=script&lang=js&\"","<script>\nimport $ from 'jquery';\n\nexport default {\n  props: {\n    initialSrc: {\n      type:    String,\n      default: require('~/assets/images/generic-catalog.svg'),\n    },\n\n    errorSrc: {\n      type:    String,\n      default: require('~/assets/images/generic-catalog.svg'),\n    },\n\n    src: {\n      type:    String,\n      default: null,\n    },\n  },\n\n  mounted() {\n    const $img = $(this.$refs.img);\n\n    if ( this.src ) {\n      $img.attr('src', this.src);\n      this.boundError = this.onError.bind(this);\n\n      $img.on('error', this.boundError);\n    }\n  },\n\n  beforeDestroy() {\n    const $img = $(this.$refs.img);\n\n    if ( $img?.length ) {\n      $img.off('error', this.boundError);\n    }\n  },\n\n  methods: {\n    onError() {\n      const $img = $(this.$refs.img);\n\n      if ( $img?.length ) {\n        $img.attr('src', this.errorSrc);\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <img ref=\"img\" :src=\"initialSrc\" v-bind=\"$attrs\" />\n</template>\n","module.exports = __webpack_public_path__ + \"assets/images/generic-catalog.svg\";","import { render, staticRenderFns } from \"./LazyImage.vue?vue&type=template&id=9fd7bea8&\"\nimport script from \"./LazyImage.vue?vue&type=script&lang=js&\"\nexport * from \"./LazyImage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('img',_vm._b({ref:\"img\",attrs:{\"src\":_vm.initialSrc}},'img',_vm.$attrs,false))}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--5-0!../../../../node_modules/thread-loader/dist/cjs.js??ref--5-1!../../../../node_modules/babel-loader/lib/index.js??ref--5-2!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--5-0!../../../../node_modules/thread-loader/dist/cjs.js??ref--5-1!../../../../node_modules/babel-loader/lib/index.js??ref--5-2!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","<script>\nimport { mapGetters } from 'vuex';\n\nimport InstallRedirect from '@/utils/install-redirect';\n\nimport { NAME, CHART_NAME } from '@/config/product/longhorn';\n\nimport LazyImage from '@/components/LazyImage';\n\nexport default {\n  components: { LazyImage },\n\n  middleware: InstallRedirect(NAME, CHART_NAME),\n\n  data() {\n    return {\n      externalLinks:  [],\n      longhornImgSrc: require('~/assets/images/vendor/longhorn.svg'),\n    };\n  },\n\n  computed: { ...mapGetters(['currentCluster']) },\n\n  mounted() {\n    this.externalLinks = [\n      {\n        enabled:     true,\n        iconSrc:     this.longhornImgSrc,\n        label:       'longhorn.overview.linkedList.longhorn.label',\n        description:   'longhorn.overview.linkedList.longhorn.description',\n        link:        `/k8s/clusters/${ this.currentCluster.id }/api/v1/namespaces/longhorn-system/services/http:longhorn-frontend:80/proxy/`\n      },\n    ];\n  },\n\n  methods: {}\n};\n</script>\n\n<template>\n  <section>\n    <header class=\"row\">\n      <div class=\"col span-12\">\n        <h1>\n          <t k=\"longhorn.overview.title\" />\n        </h1>\n        <div>\n          <t k=\"longhorn.overview.subtitle\" :raw=\"true\" />\n        </div>\n      </div>\n    </header>\n    <div class=\"links\">\n      <div v-for=\"fel in externalLinks\" :key=\"fel.label\" class=\"link-container\">\n        <a :href=\"fel.link\" target=\"_blank\" rel=\"noopener noreferrer\">\n          <div class=\"link-logo\">\n            <LazyImage :src=\"fel.iconSrc\" />\n          </div>\n          <div class=\"link-content\">\n            <t :k=\"fel.label\" />\n            <i class=\"icon icon-external-link pull-right\" />\n            <hr />\n            <div class=\"description\"><t :k=\"fel.description\" /></div>\n          </div>\n        </a>\n      </div>\n    </div>\n  </section>\n</template>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('header',{staticClass:\"row\"},[_c('div',{staticClass:\"col span-12\"},[_c('h1',[_c('t',{attrs:{\"k\":\"longhorn.overview.title\"}})],1),_vm._v(\" \"),_c('div',[_c('t',{attrs:{\"k\":\"longhorn.overview.subtitle\",\"raw\":true}})],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"links\"},_vm._l((_vm.externalLinks),function(fel){return _c('div',{key:fel.label,staticClass:\"link-container\"},[_c('a',{attrs:{\"href\":fel.link,\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_c('div',{staticClass:\"link-logo\"},[_c('LazyImage',{attrs:{\"src\":fel.iconSrc}})],1),_vm._v(\" \"),_c('div',{staticClass:\"link-content\"},[_c('t',{attrs:{\"k\":fel.label}}),_vm._v(\" \"),_c('i',{staticClass:\"icon icon-external-link pull-right\"}),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('div',{staticClass:\"description\"},[_c('t',{attrs:{\"k\":fel.description}})],1)],1)])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"],"sourceRoot":""}