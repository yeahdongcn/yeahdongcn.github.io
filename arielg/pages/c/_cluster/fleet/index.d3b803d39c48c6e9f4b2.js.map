{"version":3,"sources":["webpack:///./pages/c/_cluster/fleet/index.vue","webpack:///./utils/install-redirect.js","webpack:///./pages/c/_cluster/fleet/index.vue?091d","webpack:///pages/c/_cluster/fleet/index.vue","webpack:///./pages/c/_cluster/fleet/index.vue?bb66"],"names":["component","product","chartName","defaultResource","redirect","store","getters","name","params","resource","dispatch","chart","query","REPO_TYPE","repoType","REPO","repoName","CHART","VERSION","versions","version","render","_h","this","$createElement","_self","_c","_v","staticRenderFns"],"mappings":"4FAAA,sIAOIA,UAAY,YACd,UACA,IACA,KACA,EACA,KACA,KACA,MAIa,UAAAA,U,iHChBA,SAASC,EAASC,EAAWC,GAC1C,+DAAO,6GAA4BC,EAA5B,EAA4BA,WAAUC,EAAtC,EAAsCA,OAChCC,QAAQ,4BAA4BL,GAD1C,oBAGEE,EAHF,yCAIMC,EAAS,CACdG,KAAQ,6BACRC,OAAQ,CACNP,UACAQ,SAAUN,MARb,8CAiBGE,EAAMK,SAAS,gBAjBlB,YAmBGC,EAAQN,EAAMC,QAAQ,iBAAiB,CAAEJ,eAnB5C,0CAsBME,EAAS,CACdG,KAAQ,yBACRK,OAAK,qBACFC,YAAYF,EAAMG,WADhB,eAEFC,OAAYJ,EAAMK,WAFhB,eAGFC,QAAYN,EAAMT,YAHhB,eAIFgB,UAAYP,EAAMQ,SAAS,GAAGC,SAJ5B,MAxBN,QAiCDf,EAAMK,SAAS,eAAf,8BAAuDT,IAjCtD,4CAAP,uD,wDAHF,a,kCCAA,0HAAoU,YAAG,G,mICCvU,iBACA,SACA,O,EAEA,mE,mHCLA,IAAIoB,EAAS,WAAa,IAAiBC,EAATC,KAAgBC,eAAuC,OAAvDD,KAA0CE,MAAMC,IAAIJ,GAAa,MAAM,CAAvEC,KAA4EI,GAAG,qBAC7GC,EAAkB","file":"pages/c/_cluster/fleet/index.d3b803d39c48c6e9f4b2.js","sourcesContent":["import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=a49c109a&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { REPO_TYPE, REPO, CHART, VERSION } from '@/config/query-params';\n\nexport default function(product, chartName, defaultResource) {\n  return async function middleware({ redirect, store } ) {\n    if ( store.getters['type-map/isProductActive'](product) ) {\n      // If the product is installed and there's a default resource, redirect there\n      if ( defaultResource ) {\n        return redirect({\n          name:   'c-cluster-product-resource',\n          params: {\n            product,\n            resource: defaultResource\n          },\n        });\n      }\n\n      // Otherwise just let the middleware pass through\n    } else {\n      // The product is not installed, redirect to the install chart\n\n      await store.dispatch('catalog/load');\n\n      const chart = store.getters['catalog/chart']({ chartName });\n\n      if ( chart ) {\n        return redirect({\n          name:   'c-cluster-apps-install',\n          query:  {\n            [REPO_TYPE]: chart.repoType,\n            [REPO]:      chart.repoName,\n            [CHART]:     chart.chartName,\n            [VERSION]:   chart.versions[0].version\n          },\n        });\n      } else {\n        // The chart's not available\n        store.dispatch('loadingError', `Chart not found for ${ product }`);\n      }\n    }\n  };\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--5-0!../../../../node_modules/thread-loader/dist/cjs.js??ref--5-1!../../../../node_modules/babel-loader/lib/index.js??ref--5-2!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--5-0!../../../../node_modules/thread-loader/dist/cjs.js??ref--5-1!../../../../node_modules/babel-loader/lib/index.js??ref--5-2!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","<script>\nimport InstallRedirect from '@/utils/install-redirect';\nimport { NAME, CHART_NAME } from '@/config/product/fleet';\nimport { FLEET } from '@/config/types';\n\nexport default { middleware: [InstallRedirect(NAME, CHART_NAME, FLEET.GIT_REPO)] };\n</script>\n\n<template>\n  <div>This is Fleet.</div>\n</template>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\"This is Fleet.\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"],"sourceRoot":""}